import boto3
from dotenv import load_dotenv 
import os
load_dotenv()


dynamo_resource = boto3.resource('dynamodb')


def check_dynamo_table_exist() -> bool:
    try:
        dynamo_resource.Table(os.getenv("DYNAMODB_NAME"))
        return True
    except Exception as e:
        print("Problem occured please check:", e)
        return False
    

def create_pokemon_item(pokemon_data:dict)-> None:
    try:

        #pokemon_id = str(convert_to_local(pokemon_data['id']))
        name = pokemon_data['name']
        types = pokemon_data['types']
        abilities = pokemon_data['abilities']

        new_pokemon = {
        "id" : pokemon_id,
        "name" : name,
        "types" : types, 
        "abilities" : abilities,
        }

        table = dynamo_resource.table
        table.put_item(
            Item={
            'username': 'janedoe',
            'first_name': 'Jane',
            'last_name': 'Doe',
            'age': 25,
            'account_type': 'standard_user',
            }
        )
    except Exception as e:
        print("There was an error in the code:", e)